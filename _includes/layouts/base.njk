{% set permalinkReplaced = permalink | replace("/index.html", "") -%}
{% macro liA(url, linkText) -%}
<li
{%- if url == permalinkReplaced %} class="active"{% endif -%}
><a href="{{ url }}">{{ linkText }}</a>
{%- endmacro -%}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atomic Chess</title>
  <link href="/css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
  <a href="/"><img class="icon26" src="/images/home.svg" alt="">Homepage</a>
  <h1>{{ title }}</h1>
  <div class="side-by-side">
    {%- if "/nf3" in permalinkReplaced %}
    <div>
      <ul id="links">
        {{ liA("/nf3", "1. Nf3") }}<ul>
            {{ liA("/nf3/f6-nc3", "1 ... f6 2. Nc3") }}<ul>
                {{ liA("/nf3/f6-nc3/nh6-g4", "2 ... Nh6 3. g4") }}<ul>
                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4", "3 ... c6 4. d4") }}<ul>
                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5", "4 ... e6 5. Ng5") }}<ul>
                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/nxg4", "5 ... Nxg4") }}</li>
                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4", "5 ... f5 6. e4") }}<ul>
                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6", "6 ... Bd6") }}<ul>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5", "7. e5") }}<ul>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/fxg4.html", "7 ... fxg4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3", "7 ... Na6 8. a3") }}<ul>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/nb4-axb4", "8 ... Nb4 9. axb4") }}<ul>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/nb4-axb4/fxg4.html", "9 ... fxg4") }}</li>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/nb4-axb4/rf8-f3.html", "9 ... Rf8 10. f3") }}</li>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/nb4-axb4/b6.html", "9 ... b6") }}</li>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/nb4-axb4/g6.html", "9 ... g6") }}</li>
                                              </ul>
                                            </li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/fxg4.html", "8 ... fxg4") }}</li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/rf8-f3.html", "8 ... Rf8 9. f3") }}</li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/bb4.html", "8 ... Bb4") }}</li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/na6-a3/b5.html", "8 ... b5") }}</li>
                                          </ul></li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/rf8-f3.html", "7 ... Rf8 8. f3") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/g6.html", "7 ... g6 +") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/f4.html", "7 ... f4 +") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/bb4.html", "7 ... Bb4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/e5/ba3.html", "7 ... Ba3") }}</li>
                                      </ul>
                                    </li>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4", "7. Na4") }}<ul>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3", "7 ... Bf4 8. Be3") }}<ul>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/d6.html", "8 ... d6") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/d5.html", "8 ... d5") }} likely +- <a href="https://lichess.org/study/QN4MyXR7"><img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></a></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/na6.html", "8 ... Na6") }} likely = <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/bxh2.html", "8 ... Bxh2") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/bd6.html", "8 ... Bd6") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/b6.html", "8 ... b6") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/b5.html", "8 ... b5") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/g6.html", "8 ... g6") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/rf8.html", "8 ... Rf8") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bf4-be3/qa5.html", "8 ... Qa5") }} <img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></li>
                                          </ul>
                                        </li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/na6.html", "7 ... Na6") }} <a href="https://lichess.org/study/UZAEz5L7"><img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></a></li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/fxg4.html", "7 ... fxg4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/fxe4.html", "7 ... fxe4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/rf8.html", "7 ... Rf8") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/qa5-b4.html", "7 ... Qa5 8. b4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bd6/na4/bb4-c3.html", "7 ... Bb4 8. c3") }}</li>
                                      </ul>
                                    </li>
                                  </ul>
                                </li>
                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6", "6 ... g6") }}<ul>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1", "7. Rg1") }}<ul>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/fxg4-qf3.html", "7 ... fxg4?? 8. Qf3") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/fxe4.html", "7 ... fxe4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/nxg4.html", "7 ... Nxg4") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/bd6.html", "7 ... Bd6") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/na6.html", "7 ... Na6") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3", "7 ... Ba3 8. bxa3") }}<ul>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5", "8 ... fxg4 9. Bg5") }}<ul>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qa5.html", "9 ... Qa5") }}</li>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qf6.html", "9 ... Qf6") }}</li>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7", "9 ... Qc7") }}<ul>
                                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7/f3-ng4-qb1", "10. f3 Ng4 11. Qb1") }}<ul>
                                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7/f3-ng4-qb1/qa5.html", "11 ... Qa5") }}</li>
                                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7/f3-ng4-qb1/qb6.html", "11 ... Qb6") }}</li>
                                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7/f3-ng4-qb1/b5.html", "11 ... b5") }}</li>
                                                      </ul>
                                                    </li>
                                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7/f4.html", "10. f4") }}</li>
                                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/qc7/qh5.html", "10. Qh5") }}</li>
                                                  </ul>
                                                </li>
                                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/fxg4-bg5/o-o-f4.html", "9 ... O-O 10. f4") }}</li>
                                              </ul>
                                            </li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/rg1/ba3-bxa3/na6.html", "8 ... Na6") }}</li>
                                          </ul>
                                        </li>
                                      </ul>
                                    </li>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/qe2", "7. Qe2 (= or +?)") }} <a href="https://lichess.org/study/t2yl1zWh"><img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></a></li>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/g6/h4", "7. h4") }}</li>
                                  </ul>
                                </li>
                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4", "6 ... f4") }}<ul>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5", "7. Nb5") }}<ul>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5/bd6.html", "7 ... Bd6") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5/bb4-c3.html", "7 ... Bb4 8. c3") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5/ba3-bxa3.html", "7 ... Ba3 8. bxa3") }}</li>
                                        {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5/cxb5", "7 ... cxb5") }}<ul>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5/cxb5/bb5-nc6.html", "8. Bb5 Nc6") }} <a href="https://lichess.org/study/KddsAew2"><img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></a></li>
                                            {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/nb5/cxb5/c3.html", "8. c3") }} <a href="https://lichess.org/study/sgrBEWiG"><img class="icon22" src="/images/lichess.png" title="lichess.org" alt="lichess.org"></a></li>
                                          </ul>
                                        </li>
                                      </ul>
                                    </li>
                                    {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/f4/d5", "7. d5") }}</li>
                                  </ul>
                                </li>
                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/fxg4", "6 ... fxg4") }}</li>
                                {{ liA("/nf3/f6-nc3/nh6-g4/c6-d4/e6-ng5/f5-e4/bb4", "6 ... Bb4") }}</li>
                              </ul>
                            </li>
                          </ul>
                        </li>
                        <li>4 ... e5</li>
                        <li>4 ... d5</li>
                        <li>4 ... d6</li>
                        <li>4 ... g5</li>
                        <li>4 ... g6</li>
                        <li>4 ... a6</li>
                        <li>4 ... b5</li>
                      </ul>
                    </li>
                    <li>3 ... e6</li>
                    <li>3 ... d5</li>
                  </ul>
                </li>
                {{ liA("/nf3/f6-nc3/c6", "2 ... c6") }}</li>
              </ul>
            </li>
            {{ liA("/nf3/e5", "1 ... e5") }}</li>
            {{ liA("/nf3/d6", "1 ... d6") }}</li>
          </ul>
        </li>
      </ul>
      <hr class="hr-1">
    </div>
    
    {%- elif "/nh3" in permalinkReplaced %}
    <div>
      <ul id="links">
        {{ liA("/nh3", "1. Nh3") }}<ul>
            {{ liA("/nh3/h6-d4", "1 ... h6 2. d4") }}<ul>
                {{ liA("/nh3/h6-d4/e6-bg5", "2 ... e6 3. Bg5") }}<ul>
                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4", "3 ... f6 4. Bf4") }}<ul>
                          {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/d6", "4 ... d6") }}</li>
                          {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/bb4-c3-d6", "4 ... Bb4 5. c3 d6") }}</li>
                          {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3", "4 ... e5 5. Na3") }}<ul>
                              {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/bxa3-qd3", "5 ... Bxa3 6. Qd3!!") }}</li>
                              {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3", "5 ... a6 6. c3") }}<ul>
                                  {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/nc6-nb5-axb5-qd3", "6 ... Nc6 7. Nb5 axb5 8. Qd3") }}</li>
                                  {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/b5", "6 ... b5") }}</li>
                                  {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/g6", "6 ... g6") }}</li>
                                  {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/f5", "6 ... f5") }}</li>
                                  {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4", "6 ... d5 7. e4") }}<ul>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/dxe4-bc4", "7 ... dxe4 8. Bc4") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/bxa3-qb3", "7 ... Bxa3 8. Qb3") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/bb4-nb5-axb5-exd5", "7 ... Bb4 8. Nb5 axb5 9. exd5") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/b5-exd5", "7 ... b5 8. exd5") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/c6", "7 ... c6") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/bg4-f3", "7 ... Bg4 8. f3") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/h5-exd5", "7 ... h5 8. exd5") }}</li>
                                      {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/ne7-nc4", "7 ... Ne7 8. Nc4") }}<ul>
                                          {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/ne7-nc4/ng6-na5", "8 ... Ng6 9. Na5") }}<ul>
                                              {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/a6-c3/d5-e4/ne7-nc4/ng6-na5/nh4-nxb7-nxg2-exd5/index.html", "9 ... Nh4 10. Nxb7 Nxg2 11. exd5") }}</li>
                                            </ul>
                                          </li>
                                        </ul>
                                      </li>
                                    </ul>
                                  </li>
                                </ul>
                              </li>
                              {{ liA("/nh3/h6-d4/e6-bg5/f6-bf4/e5-na3/b5-d5", "5 ... b5 6. d5") }}</li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                      {{ liA("/nh3/h6-d4/e6-bg5/nf6", "3 ... Nf6") }}</li>
                      {{ liA("/nh3/h6-d4/e6-bg5/hxg5-ng5-f5", "3 ... hxg5 4. Ng5 f5") }}</li>
                  </ul>
                </li>
                {{ liA("/nh3/h6-d4/d5", "2 ... d5") }}</li>
                <li>2 ... e5</li>
              </ul>
            </li>
            <li>1 ... f6</li>
          </ul>
        </li>
      </ul>
      <hr class="hr-2">
    </div>
    {%- endif %}
    <div>
    {{ content | safe }}
    </div>
  </div>
</body>
</html>